{"version":3,"sources":["../../src/js/script.js"],"names":["EnjoeiModal","title","text","Swal","fire","showCloseButton","showCancelButton","showConfirmButton","width","customClass","container","popup","header","closeButton","image","content","input","actions","confirmButton","cancelButton","footer","ActionButtons","document","getElementById","_bind_click_buttons","modal","onclick","confirm","cancel","PathParam","array","window","location","pathname","split","filter","item","result","i","length","PrintHtmlPage","id","value","opts","element","querySelector","innerText","_formatMoney","accent","classList","add","bold","amount","decimalCount","decimal","thousands","Math","abs","isNaN","negativeSign","parseInt","Number","toFixed","toString","j","substr","replace","slice","e","console","log","LoadCheckoutPage","checkout_id","perform","fetch","then","json","fields","shippingPrice","checkout","totalPrice","price","product","show","$","ready","params"],"mappings":"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","sourcesContent":["//ModalScript\nclass EnjoeiModal {\n  constructor(title, text){\n    this.title = title;\n    this.text = text;\n  }\n  \n  fire(){\n    Swal.fire({\n      title: this.title || 'compra efetuada',\n      text: this.text || 'enviaremos informacoes por email',\n      showCloseButton: false,\n      showCancelButton: false,\n      showConfirmButton: false,\n      width: '370px',\n      customClass: {\n        container: 'enjoei-modal-container-class',\n        popup: 'enjoei-modal-popup-class',\n        header: 'enjoei-modal-header-class',\n        title: 'enjoei-modal-title-class',\n        closeButton: 'enjoei-modal-close-button-class',\n        image: 'enjoei-modal-image-class',\n        content: 'enjoei-modal-content-class',\n        input: 'enjoei-modal-input-class',\n        actions: 'enjoei-modal-actions-class',\n        confirmButton: 'enjoei-modal-confirm-button-class',\n        cancelButton: 'enjoei-modal-cancel-button-class',\n        footer: 'enjoei-modal-footer-class'\n      }\n    });\n  }\n}\n//ButtonScript\nclass ActionButtons{\n  constructor() {\n    this.confirmButton = document.getElementById('confirm-button');\n    this.cancelButton = document.getElementById('cancel-button');\n    this._bind_click_buttons();\n  }\n\n  confirm() {\n    const title = 'compra confirmada';\n    const text = 'entraremos em contato po email';\n    const modal = new EnjoeiModal(title, text)\n    modal.fire()\n  }\n\n  cancel() {\n    const title = 'compra cancelada';\n    const text = 'pedido não foi enviado, você não sera cobrado'\n    const modal = new EnjoeiModal(title,text)\n    modal.fire()\n  }\n\n  _bind_click_buttons(){\n    this.confirmButton.onclick = this.confirm\n    this.cancelButton.onclick = this.cancel\n  }\n}\n\n//PathParamRouter\nclass PathParam {\n  static params() {\n    const array = window.location.pathname.split('/').filter(item => item !== \"\")\n    const result = {}\n    for (let i = 0; i < array.length; i = i + 2) {\n      result[array[i]] = array[i + 1];\n    }\n    return result;\n  }\n}\n\nclass PrintHtmlPage{\n  constructor(id, value, opts = {}){\n    this.value = value;\n    this.opts = opts\n    this.element = document.querySelector(`#${id}`)\n  }\n\n  show(){\n    this.element.innerText = this._formatMoney(this.value)\n    if(this.opts.accent)\n      this.element.classList.add(\"accent-text\");\n      \n    if (this.opts.bold) \n      this.element.classList.add(\"bold-text\");\n    \n  }\n\n _formatMoney(amount, decimalCount = 2, decimal = \",\", thousands = \".\") {\n  try {\n    decimalCount = Math.abs(decimalCount);\n    decimalCount = isNaN(decimalCount) ? 2 : decimalCount;\n\n    const negativeSign = amount < 0 ? \"-\" : \"\";\n\n    let i = parseInt(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)).toString();\n    let j = (i.length > 3) ? i.length % 3 : 0;\n\n    return `R$ ${negativeSign + (j ? i.substr(0, j) + thousands : '') + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) + (decimalCount ? decimal + Math.abs(amount - i).toFixed(decimalCount).slice(2) : \"\")}`;\n  } catch (e) {\n    console.log(e)\n  }\n}\n}\n\n//Load product checkout \nclass LoadCheckoutPage{\n  constructor(checkout_id){\n    this.checkout_id = checkout_id;\n    this.perform();\n  }\n\n  perform(){\n    fetch(`/api/checkouts/${this.checkout_id}`)\n      .then((result) => result.json())\n      .then((result) => {\n        const fields = {\n          shippingPrice: result.checkout.shippingPrice,\n          totalPrice: result.checkout.totalPrice,\n          price: result.product.price,\n          image: result.product.image\n        }\n\n        new PrintHtmlPage('amount-total', fields.totalPrice, { accent: true, bold: true }).show();\n        new PrintHtmlPage('amount-shipping', fields.shippingPrice).show();\n        new PrintHtmlPage('amount-original', fields.price).show();\n        console.log(fields);\n      })\n  }\n}\n\n$(document).ready(() =>{\n  new LoadCheckoutPage(PathParam.params().checkout);\n  new ActionButtons();\n})"],"file":"script.js"}