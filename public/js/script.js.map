{"version":3,"sources":["../../src/js/script.js"],"names":["Util","amount","decimalCount","decimal","thousands","isNaN","format","minimumFractionDigits","style","currency","toLocaleString","EnjoeiModal","title","text","icon","modal_icon","width","document","querySelector","offsetWidth","console","log","Swal","fire","showCloseButton","showCancelButton","showConfirmButton","imageUrl","imageHeight","customClass","container","popup","header","closeButton","image","content","input","actions","confirmButton","cancelButton","footer","ActionButtons","getElementById","_bind_click_buttons","checkout_id","PathParam","params","checkout","url","fetch","method","then","result","json","status","modal","onclick","confirm","cancel","array","window","location","pathname","split","filter","item","i","length","SummarySection","voucher_id","fields","shippingPrice","totalPrice","price","product","cupons","availableCoupons","hasVoucher","_print","bold","cupom","find","id","discount","accent","value","opts","element","innerText","formatMoney","className","classList","add","CupomSection","couponSectionList","cupomAmountDetail","unshift","voucherOnScreen","querySelectorAll","innerHTML","forEach","html","appendChild","el","onchange","LoadCheckoutPage","div","createElement","htmlString","trim","firstChild","perform","concat","summarySection","printAll","cupomSection","printAvailables","bindChanges","$","ready"],"mappings":"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","sourcesContent":["(function(){\n  class Util{\n    static formatMoney(amount, decimalCount = 2, decimal = \",\", thousands = \".\") {\n      if(isNaN(amount)){  \n        return \"\"\n      }\n      const format = { minimumFractionDigits: 2, style: 'currency', currency: 'BRL' }\n      return amount.toLocaleString('pt-BR', format);\n    }\n  }\n  //ModalScript\n  class EnjoeiModal {\n    constructor(title, text,icon){\n      this.title = title;\n      this.text = text;\n      this.modal_icon = icon\n    }\n    \n    fire(){\n      let width = `${document.querySelector('.container').offsetWidth}px`\n      console.log('wi',width);\n      Swal.fire({\n        title: this.title || 'compra efetuada',\n        text: this.text || 'enviaremos informacoes por email',\n        showCloseButton: false,\n        showCancelButton: false,\n        showConfirmButton: false,\n        imageUrl: `/public/images/cart-${this.modal_icon}.png`,\n        imageHeight: 25,\n        width: '295px',\n        customClass: {\n          container: 'enjoei-modal-container-class',\n          popup: 'enjoei-modal-popup-class',\n          header: 'enjoei-modal-header-class',\n          title: 'enjoei-modal-title-class',\n          closeButton: 'enjoei-modal-close-button-class',\n          image: 'enjoei-modal-image-class',\n          content: 'enjoei-modal-content-class',\n          input: 'enjoei-modal-input-class',\n          actions: 'enjoei-modal-actions-class',\n          confirmButton: 'enjoei-modal-confirm-button-class',\n          cancelButton: 'enjoei-modal-cancel-button-class',\n          footer: 'enjoei-modal-footer-class'\n        }\n      });\n    }\n  }\n  //ButtonScript\n  class ActionButtons{\n    constructor() {\n      this.confirmButton = document.getElementById('confirm-button');\n      this.cancelButton = document.getElementById('cancel-button');\n      this._bind_click_buttons();\n    }\n\n    confirm() {\n      const checkout_id = PathParam.params().checkout\n      let url = `/api/checkouts/${checkout_id}`\n      fetch(url, { method: 'POST' })\n        .then((result) => result.json())\n        .then((result) => {\n          if(result.status === 'success'){\n            const title = 'compra confirmada';\n            const text = 'enviaremos atualizações sobre o pedido para o seu email';\n            const modal = new EnjoeiModal(title, text, 'success')\n            modal.fire()\n          }\n        })\n    }\n\n    cancel() {\n      const title = 'compra cancelada';\n      const text = 'o pedido não foi enviado e você não será cobrado'\n      const modal = new EnjoeiModal(title,text,'cancel')\n      modal.fire()\n    }\n\n    _bind_click_buttons(){\n      this.confirmButton.onclick = this.confirm\n      this.cancelButton.onclick = this.cancel\n    }\n  }\n  //PathParamRouter\n  class PathParam {\n    static params() {\n      const array = window.location.pathname.split('/').filter(item => item !== \"\")\n      const result = {}\n      for (let i = 0; i < array.length; i = i + 2) {\n        result[array[i]] = array[i + 1];\n      }\n      return result;\n    }\n  }\n  //Summary\n  class SummarySection{\n    constructor(result, voucher_id = -1){\n      this.fields = {\n        shippingPrice: result.checkout.shippingPrice,\n        totalPrice: result.checkout.totalPrice,\n        price: result.product.price,\n        image: result.product.image,\n        cupons: result.checkout.availableCoupons\n      }\n      //the api doesnt say if voucher has applied\n      if (voucher_id && voucher_id != -1) {\n        this.fields = {\n          ...this.fields,\n          hasVoucher: true,\n          voucher_id: voucher_id\n        }\n      }\n    }\n\n    printAll(){\n      this._print('amount-total', this.fields.totalPrice, { bold: true });\n      this._print('amount-shipping', this.fields.shippingPrice);\n      this._print('amount-original', this.fields.price);\n\n      //if there are more one available voucher, find the correct\n      if(this.fields.hasVoucher === true){\n        const cupom = this.fields.cupons.find(cupom => {\n          return cupom.id == this.fields.voucher_id\n        })\n        \n        this._print('amount-discount', cupom.discount * -1,{accent: true});\n      }else{\n        this._print('amount-discount', 0);\n      }\n    }\n    \n    _print(id, value, opts = {}){\n      const element = document.querySelector(`#${id}`)\n      element.innerText = Util.formatMoney(value)\n      element.className = '';\n\n      if(opts.accent)\n        element.classList.add(\"accent-text\");\n        \n      if (opts.bold) \n        element.classList.add(\"bold-text\");\n    }\n  }\n\n  //Cupons\n  class CupomSection{\n    constructor(cupons){\n      this.cupons = cupons;\n      this.couponSectionList = document.getElementById('coupons-list');\n      this.cupomAmountDetail = document.getElementById('amount-cupom-detail');\n      if(!cupons || cupons.length === 0){\n        document.getElementById('coupon-section').classList.add(\"hide\")\n        this.couponSectionList.classList.add(\"hide\");\n        this.cupomAmountDetail.classList.add(\"hide\");\n        return\n      }\n\n      this.cupons.unshift({\n        id: -1,\n        title: 'não usar cupom'\n      })\n    }\n    \n    printAvailables(){\n      const voucherOnScreen = document.querySelectorAll(\".voucher-item\").length\n      //return if all vouchers are on the screen\n      if(voucherOnScreen === this.cupons.length){\n        return\n      }\n      this.couponSectionList.innerHTML = \"\"\n      this.cupons.forEach(cupom => {\n        let html = this._print(cupom)\n        this.couponSectionList.appendChild(html)\n      });\n    }\n\n    bindChanges(){\n      document.querySelectorAll(\"input[name='voucher']\").forEach(function (el) {\n        el.onchange = function(){\n          const voucher_id = document.querySelector(\"input[name='voucher']:checked\").value\n          new LoadCheckoutPage(PathParam.params().checkout, voucher_id);\n        }\n      })\n    }\n    \n    _print(cupom){\n      const div = document.createElement('div');\n      const htmlString = `<div class=\"item-detail voucher-item\">\n        <label class=\"radio-button row x-between\">${cupom.title}\n        <input type=\"radio\" name=\"voucher\" value=\"${cupom.id}\">\n        <span class=\"checkmark\"></span>\n        <span class=\"accent-text\">${Util.formatMoney(cupom.discount * -1)}</span>\n        </label>\n      </div>`\n      div.innerHTML = htmlString.trim();\n      return div.firstChild\n    }\n  }\n\n  //Load checkout page\n  class LoadCheckoutPage{\n    constructor(checkout_id, voucher_id = -1){\n      this.checkout_id = checkout_id;\n      this.voucher_id = voucher_id;\n      this.hasVoucher = false;\n      this.perform();\n    }\n\n    perform(){\n      let url = `/api/checkouts/${this.checkout_id}`\n      if(this.voucher_id != -1){\n        url = url.concat(`?couponId=${this.voucher_id}`);\n      }\n      fetch(url)\n        .then((result) => result.json())\n        .then((result) => {\n          const summarySection  = new SummarySection(result, this.voucher_id)\n          summarySection.printAll();\n\n          const cupomSection = new CupomSection(result.checkout.availableCoupons)\n          cupomSection.printAvailables();\n          cupomSection.bindChanges();\n        })\n    }\n  }\n\n  $(document).ready(() =>{\n    new LoadCheckoutPage(PathParam.params().checkout);\n    new ActionButtons();\n  })\n})();"],"file":"script.js"}